(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a47b5c64"],{"057f":function(e,t,r){var l=r("fc6a"),o=r("241c").f,i={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==i.call(e)?a(e):o(l(e))}},"159b":function(e,t,r){var l=r("da84"),o=r("fdbc"),i=r("17c2"),n=r("9112");for(var a in o){var s=l[a],c=s&&s.prototype;if(c&&c.forEach!==i)try{n(c,"forEach",i)}catch(f){c.forEach=i}}},"17c2":function(e,t,r){"use strict";var l=r("b727").forEach,o=r("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}},2532:function(e,t,r){"use strict";var l=r("23e7"),o=r("5a34"),i=r("1d80"),n=r("ab13");l({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"3c17":function(e,t,r){"use strict";r("ba1d")},"44e7":function(e,t,r){var l=r("861d"),o=r("c6b6"),i=r("b622"),n=i("match");e.exports=function(e){var t;return l(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==o(e))}},"4de4":function(e,t,r){"use strict";var l=r("23e7"),o=r("b727").filter,i=r("1dde"),n=i("filter");l({target:"Array",proto:!0,forced:!n},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");var l=r("d23f");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5a34":function(e,t,r){var l=r("44e7");e.exports=function(e){if(l(e))throw TypeError("The method doesn't accept regular expressions");return e}},"746f":function(e,t,r){var l=r("428f"),o=r("5135"),i=r("e538"),n=r("9bf2").f;e.exports=function(e){var t=l.Symbol||(l.Symbol={});o(t,e)||n(t,e,{value:i.f(e)})}},"7a21":function(e,t,r){"use strict";r("a800")},"81d5":function(e,t,r){"use strict";var l=r("7b0b"),o=r("23cb"),i=r("50c4");e.exports=function(e){var t=l(this),r=i(t.length),n=arguments.length,a=o(n>1?arguments[1]:void 0,r),s=n>2?arguments[2]:void 0,c=void 0===s?r:o(s,r);while(c>a)t[a++]=e;return t}},8418:function(e,t,r){"use strict";var l=r("c04e"),o=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var n=l(t);n in e?o.f(e,n,i(0,r)):e[n]=r}},a4d3:function(e,t,r){"use strict";var l=r("23e7"),o=r("da84"),i=r("d066"),n=r("c430"),a=r("83ab"),s=r("4930"),c=r("fdbf"),f=r("d039"),u=r("5135"),h=r("e8b5"),m=r("861d"),d=r("825a"),b=r("7b0b"),g=r("fc6a"),p=r("c04e"),v=r("5c6c"),k=r("7c73"),w=r("df75"),y=r("241c"),C=r("057f"),x=r("7418"),S=r("06cf"),O=r("9bf2"),F=r("d1e7"),T=r("9112"),j=r("6eeb"),E=r("5692"),_=r("f772"),D=r("d012"),P=r("90e3"),N=r("b622"),z=r("e538"),$=r("746f"),I=r("d44e"),A=r("69f3"),W=r("b727").forEach,H=_("hidden"),J="Symbol",M="prototype",L=N("toPrimitive"),B=A.set,q=A.getterFor(J),R=Object[M],G=o.Symbol,V=i("JSON","stringify"),U=S.f,Y=O.f,K=C.f,Q=F.f,X=E("symbols"),Z=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),re=E("wks"),le=o.QObject,oe=!le||!le[M]||!le[M].findChild,ie=a&&f((function(){return 7!=k(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,r){var l=U(R,t);l&&delete R[t],Y(e,t,r),l&&e!==R&&Y(R,t,l)}:Y,ne=function(e,t){var r=X[e]=k(G[M]);return B(r,{type:J,tag:e,description:t}),a||(r.description=t),r},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},se=function(e,t,r){e===R&&se(Z,t,r),d(e);var l=p(t,!0);return d(r),u(X,l)?(r.enumerable?(u(e,H)&&e[H][l]&&(e[H][l]=!1),r=k(r,{enumerable:v(0,!1)})):(u(e,H)||Y(e,H,v(1,{})),e[H][l]=!0),ie(e,l,r)):Y(e,l,r)},ce=function(e,t){d(e);var r=g(t),l=w(r).concat(de(r));return W(l,(function(t){a&&!ue.call(r,t)||se(e,t,r[t])})),e},fe=function(e,t){return void 0===t?k(e):ce(k(e),t)},ue=function(e){var t=p(e,!0),r=Q.call(this,t);return!(this===R&&u(X,t)&&!u(Z,t))&&(!(r||!u(this,t)||!u(X,t)||u(this,H)&&this[H][t])||r)},he=function(e,t){var r=g(e),l=p(t,!0);if(r!==R||!u(X,l)||u(Z,l)){var o=U(r,l);return!o||!u(X,l)||u(r,H)&&r[H][l]||(o.enumerable=!0),o}},me=function(e){var t=K(g(e)),r=[];return W(t,(function(e){u(X,e)||u(D,e)||r.push(e)})),r},de=function(e){var t=e===R,r=K(t?Z:g(e)),l=[];return W(r,(function(e){!u(X,e)||t&&!u(R,e)||l.push(X[e])})),l};if(s||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),r=function(e){this===R&&r.call(Z,e),u(this,H)&&u(this[H],t)&&(this[H][t]=!1),ie(this,t,v(1,e))};return a&&oe&&ie(R,t,{configurable:!0,set:r}),ne(t,e)},j(G[M],"toString",(function(){return q(this).tag})),j(G,"withoutSetter",(function(e){return ne(P(e),e)})),F.f=ue,O.f=se,S.f=he,y.f=C.f=me,x.f=de,z.f=function(e){return ne(N(e),e)},a&&(Y(G[M],"description",{configurable:!0,get:function(){return q(this).description}}),n||j(R,"propertyIsEnumerable",ue,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:G}),W(w(re),(function(e){$(e)})),l({target:J,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var r=G(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),l({target:"Object",stat:!0,forced:!s,sham:!a},{create:fe,defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:he}),l({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:me,getOwnPropertySymbols:de}),l({target:"Object",stat:!0,forced:f((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(b(e))}}),V){var be=!s||f((function(){var e=G();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}));l({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,r){var l,o=[e],i=1;while(arguments.length>i)o.push(arguments[i++]);if(l=t,(m(t)||void 0!==e)&&!ae(e))return h(t)||(t=function(e,t){if("function"==typeof l&&(t=l.call(this,e,t)),!ae(t))return t}),o[1]=t,V.apply(null,o)}})}G[M][L]||T(G[M],L,G[M].valueOf),I(G,J),D[H]=!0},a640:function(e,t,r){"use strict";var l=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&l((function(){r.call(null,t||function(){throw 1},1)}))}},a800:function(e,t,r){},ab13:function(e,t,r){var l=r("b622"),o=l("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(l){}}return!1}},b64b:function(e,t,r){var l=r("23e7"),o=r("7b0b"),i=r("df75"),n=r("d039"),a=n((function(){i(1)}));l({target:"Object",stat:!0,forced:a},{keys:function(e){return i(o(e))}})},ba1d:function(e,t,r){},bf19:function(e,t,r){"use strict";var l=r("23e7");l({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},caad:function(e,t,r){"use strict";var l=r("23e7"),o=r("4d64").includes,i=r("44d2");l({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cb29:function(e,t,r){var l=r("23e7"),o=r("81d5"),i=r("44d2");l({target:"Array",proto:!0},{fill:o}),i("fill")},d23f:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},dbb4:function(e,t,r){var l=r("23e7"),o=r("83ab"),i=r("56ef"),n=r("fc6a"),a=r("06cf"),s=r("8418");l({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,r,l=n(e),o=a.f,c=i(l),f={},u=0;while(c.length>u)r=o(l,t=c[u++]),void 0!==r&&s(f,t,r);return f}})},e439:function(e,t,r){var l=r("23e7"),o=r("d039"),i=r("fc6a"),n=r("06cf").f,a=r("83ab"),s=o((function(){n(1)})),c=!a||s;l({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(e,t){return n(i(e),t)}})},e538:function(e,t,r){var l=r("b622");t.f=l},ecd1:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"all"},[r("div",{staticClass:"antv-content"},[r("div",{staticClass:"antv-menu"},[r("h3",[e._v("基础图形列表")]),r("ul",{staticClass:"menu-list"},[r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultOval")}}},[r("i",{staticClass:"icon-oval"}),e._v(" "),r("strong",[e._v("开始")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultSquare")}}},[r("i",{staticClass:"icon-square"}),r("strong",[e._v("信息提交")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultYSquare")}}},[r("i",{staticClass:"icon-ysquare"}),r("strong",[e._v("流程/属性添加")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultRhombus")}}},[r("i",{staticClass:"icon-rhombus"}),r("strong",[e._v("是否通过")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultRhomboid")}}},[r("i",{staticClass:"icon-rhomboid"}),r("strong",[e._v("处理节点")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("defaultCircle")}}},[r("i",{staticClass:"icon-circle"}),r("strong",[e._v("结束")])]),r("li",{attrs:{draggable:"true"},on:{drag:function(t){return e.menuDrag("otherImage")}}},[r("i",{staticClass:"el-icon-picture"}),r("strong",[e._v("图片")])])]),e.isChange?r("div",{staticClass:"wrapper-btn"},[r("el-button",{attrs:{type:"success"},on:{click:e.handlerSend}},[e._v("保存当前方案")])],1):e._e()]),r("div",{staticClass:"antv-wrapper"},[r("div",{staticClass:"wrapper-canvas",style:{height:e.height},attrs:{id:"wrapper"},on:{drop:function(t){return e.drop(t)},dragover:function(e){e.preventDefault()}}}),r("div",{staticClass:"wrapper-tips"},[r("div",{staticClass:"wrapper-tips-item"},[r("el-switch",{on:{change:e.changePortsShow},model:{value:e.isPortsShow,callback:function(t){e.isPortsShow=t},expression:"isPortsShow"}}),r("span",[e._v("链接桩常显")])],1)])]),e.editDrawer?r("div",{staticClass:"edit-main"},[r("div",{staticClass:"edit-main-title"},[r("h3",[e._v(e._s(e.editTitle))]),r("i",{staticClass:"el-icon-close",on:{click:e.closeEditForm}})]),"编辑节点"===e.editTitle?r("div",{staticClass:"form-main"},[r("el-form",{ref:"nodeForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"节点文本"}},[r("el-input",{attrs:{size:"small"},on:{input:function(t){return e.changeNode("labelText",e.form.labelText)}},model:{value:e.form.labelText,callback:function(t){e.$set(e.form,"labelText",t)},expression:"form.labelText"}})],1),r("el-form-item",{attrs:{label:"字体大小"}},[r("el-input",{attrs:{size:"small"},on:{input:function(t){return e.changeNode("fontSize",e.form.fontSize)}},model:{value:e.form.fontSize,callback:function(t){e.$set(e.form,"fontSize",t)},expression:"form.fontSize"}})],1),r("el-form-item",{attrs:{label:"字体颜色"}},[r("el-color-picker",{on:{change:function(t){return e.changeNode("fontFill",e.form.fontFill)}},model:{value:e.form.fontFill,callback:function(t){e.$set(e.form,"fontFill",t)},expression:"form.fontFill"}})],1),r("el-form-item",{attrs:{label:"节点背景"}},[r("el-color-picker",{on:{change:function(t){return e.changeNode("fill",e.form.fill)}},model:{value:e.form.fill,callback:function(t){e.$set(e.form,"fill",t)},expression:"form.fill"}})],1),r("el-form-item",{attrs:{label:"边框颜色"}},[r("el-color-picker",{on:{change:function(t){return e.changeNode("stroke",e.form.stroke)}},model:{value:e.form.stroke,callback:function(t){e.$set(e.form,"stroke",t)},expression:"form.stroke"}})],1),r("div",{staticClass:"see-box"},[r("h5",[e._v("预览")]),r("div",{staticClass:"see-item",style:{background:e.form.fill,color:e.form.fontFill,"border-color":e.form.stroke,"font-size":e.form.fontSize+"px"}},[e._v(" "+e._s(e.form.labelText)+" ")])])],1)],1):e._e(),"编辑图片节点"===e.editTitle?r("div",{staticClass:"form-main"},[r("el-form",{ref:"imageForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"节点文本"}},[r("el-input",{attrs:{size:"small"},on:{input:function(t){return e.changeImageNode("labelText",e.form.labelText)}},model:{value:e.form.labelText,callback:function(t){e.$set(e.form,"labelText",t)},expression:"form.labelText"}})],1),r("el-form-item",{attrs:{label:"字体颜色"}},[r("el-color-picker",{on:{change:function(t){return e.changeImageNode("labelFill",e.form.labelFill)}},model:{value:e.form.labelFill,callback:function(t){e.$set(e.form,"labelFill",t)},expression:"form.labelFill"}})],1),r("el-form-item",{attrs:{label:"节点背景"}},[r("el-color-picker",{on:{change:function(t){return e.changeImageNode("fill",e.form.fill)}},model:{value:e.form.fill,callback:function(t){e.$set(e.form,"fill",t)},expression:"form.fill"}})],1),r("el-form-item",{attrs:{label:"图片地址"}},[r("el-input",{attrs:{size:"small",placeholder:"图片地址"},on:{input:function(t){return e.changeImageNode("xlinkHref",e.form.xlinkHref)}},model:{value:e.form.xlinkHref,callback:function(t){e.$set(e.form,"xlinkHref",t)},expression:"form.xlinkHref"}}),r("el-image",{staticStyle:{width:"80px",height:"80px",background:"#f2f2f2"},attrs:{src:e.form.xlinkHref,fit:"fill"}})],1),r("el-form-item",{attrs:{label:"图片尺寸"}},[r("span",{staticStyle:{"font-size":"14px","padding-right":"5px",color:"#888"}},[e._v("宽")]),r("el-input-number",{attrs:{min:0,label:"宽",size:"mini"},on:{change:function(t){return e.changeImageNode("width",e.form.width)}},model:{value:e.form.width,callback:function(t){e.$set(e.form,"width",t)},expression:"form.width"}}),r("span",{staticStyle:{"font-size":"14px","padding-right":"5px",color:"#888"}},[e._v("高")]),r("el-input-number",{attrs:{min:0,label:"高",size:"mini"},on:{change:function(t){return e.changeImageNode("height",e.form.height)}},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}})],1)],1)],1):e._e(),"编辑连线"===e.editTitle?r("div",{staticClass:"form-main"},[r("el-form",{ref:"edgeForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"标签内容"}},[r("el-input",{attrs:{size:"small",placeholder:"标签文字，空则没有"},on:{input:function(t){return e.changeEdgeLabel(e.form.label,e.labelForm.fontColor,e.labelForm.fill,e.labelForm.stroke)}},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}}),e.form.label?r("div",{staticClass:"label-style"},[r("p",[e._v(" 字体颜色："),r("el-color-picker",{attrs:{size:"mini"},on:{change:function(t){return e.changeEdgeLabel(e.form.label,e.labelForm.fontColor,e.labelForm.fill,e.labelForm.stroke)}},model:{value:e.labelForm.fontColor,callback:function(t){e.$set(e.labelForm,"fontColor",t)},expression:"labelForm.fontColor"}})],1),r("p",[e._v(" 背景颜色："),r("el-color-picker",{attrs:{size:"mini"},on:{change:function(t){return e.changeEdgeLabel(e.form.label,e.labelForm.fontColor,e.labelForm.fill,e.labelForm.stroke)}},model:{value:e.labelForm.fill,callback:function(t){e.$set(e.labelForm,"fill",t)},expression:"labelForm.fill"}})],1),r("p",[e._v(" 描边颜色："),r("el-color-picker",{attrs:{size:"mini"},on:{change:function(t){return e.changeEdgeLabel(e.form.label,e.labelForm.fontColor,e.labelForm.fill,e.labelForm.stroke)}},model:{value:e.labelForm.stroke,callback:function(t){e.$set(e.labelForm,"stroke",t)},expression:"labelForm.stroke"}})],1)]):e._e()],1),r("el-form-item",{attrs:{label:"线条颜色"}},[r("el-color-picker",{attrs:{size:"small"},on:{change:e.changeEdgeStroke},model:{value:e.form.stroke,callback:function(t){e.$set(e.form,"stroke",t)},expression:"form.stroke"}})],1),r("el-form-item",{attrs:{label:"线条样式"}},[r("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.changeEdgeConnector},model:{value:e.form.connector,callback:function(t){e.$set(e.form,"connector",t)},expression:"form.connector"}},[r("el-option",{attrs:{label:"直角",value:"normal"}}),r("el-option",{attrs:{label:"圆角",value:"rounded"}}),r("el-option",{attrs:{label:"平滑",value:"smooth"}}),r("el-option",{attrs:{label:"跳线(两线交叉)",value:"jumpover"}})],1)],1),r("el-form-item",{attrs:{label:"线条宽度"}},[r("el-input-number",{attrs:{size:"small",min:2,step:2,max:6,label:"线条宽度"},on:{change:e.changeEdgeStrokeWidth},model:{value:e.form.strokeWidth,callback:function(t){e.$set(e.form,"strokeWidth",t)},expression:"form.strokeWidth"}})],1),r("el-form-item",{attrs:{label:"双向箭头"}},[r("el-switch",{on:{change:e.changeEdgeArrows},model:{value:e.form.isArrows,callback:function(t){e.$set(e.form,"isArrows",t)},expression:"form.isArrows"}})],1),r("el-form-item",{attrs:{label:"流动线条"}},[r("el-switch",{on:{change:e.changeEdgeAnit},model:{value:e.form.isAnit,callback:function(t){e.$set(e.form,"isAnit",t)},expression:"form.isAnit"}})],1),r("el-form-item",{attrs:{label:"调整线条"}},[r("el-switch",{on:{change:e.changeEdgeTools},model:{value:e.form.isTools,callback:function(t){e.$set(e.form,"isTools",t)},expression:"form.isTools"}})],1)],1)],1):e._e(),r("div",{staticClass:"edit-btn"},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:e.handlerDel}},[e._v("删除此"+e._s("编辑节点"===e.editTitle?"节点":"连线"))])],1)]):e._e()])])},o=[],i=r("5530"),n=(r("d81d"),r("caad"),r("2532"),r("cb29"),r("bf19"),r("5728")),a=r("3360"),s={name:"PannelWrapper",props:{height:{type:String,default:"100vh"},value:{type:String,default:""}},data:function(){return{graph:null,isChange:!1,isPortsShow:!1,menuItem:"",selectCell:"",editDrawer:!1,editTitle:"",form:{},labelForm:{fontColor:"#333",fill:"#FFF",stroke:"#555"}}},created:function(){},watch:{value:{handler:function(){this.graph&&(this.isChange=!1,this.isPortsShow=!1,this.menuItem="",this.selectCell="",this.editDrawer=!1,this.graph.dispose(),this.initGraph())},deep:!0,immediate:!0}},mounted:function(){this.initGraph()},beforeDestroy:function(){this.graph.dispose()},methods:{changePortsShow:function(e){for(var t=document.getElementById("wrapper"),r=t.querySelectorAll(".x6-port-body"),l=0,o=r.length;l<o;l+=1)r[l].style.visibility=e?"visible":"hidden"},initGraph:function(){var e=this,t=new n["a"](Object(i["a"])({container:document.getElementById("wrapper")},Object(a["d"])(n["b"])));if(t.on("node:mouseenter",(function(){e.changePortsShow(!0)})),t.on("node:mouseleave",(function(){e.isPortsShow||e.changePortsShow(!1)})),t.on("cell:click",(function(t){var r=t.cell;e.editForm(r)})),Object(a["e"])(t),t.bindKey(["delete","backspace"],(function(){e.handlerDel()})),this.graph=t,this.value&&JSON.parse(this.value).length){var r=JSON.parse(this.value),l=Object(a["b"])().groups;if(r.length){var o=r.map((function(e){return e.ports&&(e.ports.groups=l),e}));t.fromJSON(o)}}t.on("cell:changed",(function(){e.isChangeValue()}))},isChangeValue:function(){this.isChange||(this.isChange=!0,this.$emit("cellChanged",!0))},menuDrag:function(e){this.menuItem=Object(a["c"])(e)},drop:function(e){var t=Object(i["a"])(Object(i["a"])({},this.menuItem),{},{x:e.offsetX-this.menuItem.width/2,y:e.offsetY-this.menuItem.height/2,ports:Object(a["b"])()});this.graph.addNode(t),this.isChangeValue()},editForm:function(e){if(this.selectCell&&this.selectCell.removeTools(),this.selectCell=e,e.isNode()&&e.data.type&&e.data.type.includes("default")){this.editTitle="编辑节点";var t=e.attrs.body||e.attrs.rect||e.attrs.polygon||e.attrs.circle;return this.form={labelText:e.attrs.label.text||"",fontSize:e.attrs.label.fontSize||14,fontFill:e.attrs.label.fill||"",fill:t.fill||"",stroke:t.stroke||""},this.editDrawer=!0}if(e.isNode()&&e.data.type&&"otherImage"===e.data.type){this.editTitle="编辑图片节点";var r=e.attrs||{body:{fill:""},label:{text:"",fill:""},image:{xlinkHref:"",height:80,width:80}};return this.form={fill:r.body.fill,labelText:r.label.text,labelFill:r.label.fill,height:r.image&&r.image.height||80,width:r.image&&r.image.width||80,xlinkHref:r.xlinkHref&&r.image.xlinkHref||"https://gw.alipayobjects.com/zos/bmw-prod/2010ac9f-40e7-49d4-8c4a-4fcf2f83033b.svg"},this.editDrawer=!0}if(!e.isNode()&&"edge"===e.shape){this.editTitle="编辑连线",this.form={label:e.labels&&e.labels[0]?e.labels[0].attrs.labelText.text:"",stroke:e.attrs.line.stroke||"",connector:"rounded",strokeWidth:e.attrs.line.strokeWidth||"",isArrows:!!e.attrs.line.sourceMarker,isAnit:!!e.attrs.line.strokeDasharray,isTools:!1};var l=e.labels&&e.labels[0]&&e.labels[0].attrs||!1;return this.form.label&&l?this.labelForm={fontColor:l.labelText.fill||"#333",fill:l.labelBody.fill||"#fff",stroke:l.labelBody.stroke||"#555"}:this.labelForm={fontColor:"#333",fill:"#FFF",stroke:"#555"},this.editDrawer=!0}},closeEditForm:function(){this.editDrawer=!1,this.selectCell&&this.selectCell.removeTools()},changeNode:function(e,t){switch(e){case"labelText":this.selectCell.attr("label/text",t);break;case"fontSize":this.selectCell.attr("label/fontSize",t);break;case"fontFill":this.selectCell.attr("label/fill",t);break;case"fill":this.selectCell.attr("body/fill",t);break;case"stroke":this.selectCell.attr("body/stroke",t);break}},changeImageNode:function(e,t){switch(e){case"labelText":this.selectCell.attr("label/text",t);break;case"labelFill":this.selectCell.attr("label/fill",t);break;case"fill":this.selectCell.attr("body/fill",t);break;case"xlinkHref":this.selectCell.attr("image/xlinkHref",t);break;case"height":this.selectCell.attr("image/height",t);break;case"width":this.selectCell.attr("image/width",t);break}},changeEdgeLabel:function(e,t,r,l){this.selectCell.setLabels([Object(a["a"])(e,t,r,l)]),e||(this.labelForm={fontColor:"#333",fill:"#FFF",stroke:"#555"})},changeEdgeStroke:function(e){this.selectCell.attr("line/stroke",e)},changeEdgeConnector:function(e){switch(e){case"normal":this.selectCell.setConnector(e);break;case"smooth":this.selectCell.setConnector(e);break;case"rounded":this.selectCell.setConnector(e,{radius:20});break;case"jumpover":this.selectCell.setConnector(e,{radius:20});break}},changeEdgeStrokeWidth:function(e){this.form.isArrows?this.selectCell.attr({line:{strokeWidth:e,sourceMarker:{width:e/2*12||12,height:e/2*8||8},targetMarker:{width:e/2*12||12,height:e/2*8||8}}}):this.selectCell.attr({line:{strokeWidth:e,targetMarker:{width:e/2*12||12,height:e/2*8||8}}})},changeEdgeArrows:function(e){e?this.selectCell.attr({line:{sourceMarker:{name:"block",width:this.form.strokeWidth/2*12||12,height:this.form.strokeWidth/2*8||8},targetMarker:{name:"block",width:this.form.strokeWidth/2*12||12,height:this.form.strokeWidth/2*8||8}}}):this.selectCell.attr({line:{sourceMarker:"",targetMarker:{name:"block",size:this.form.strokeWidth/2*10||10}}})},changeEdgeAnit:function(e){e?this.selectCell.attr({line:{strokeDasharray:5,style:{animation:"ant-line 30s infinite linear"}}}):this.selectCell.attr({line:{strokeDasharray:0,style:{animation:""}}})},changeEdgeTools:function(e){e?this.selectCell.addTools(["vertices","segments"]):this.selectCell.removeTools()},handlerDel:function(){var e=this;this.$confirm("此操作将永久删除此".concat("编辑节点"===this.editTitle?"节点":"连线",", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.graph.getSelectedCells();t.length&&(e.graph.removeCells(t),e.form={},e.editDrawer=!1,e.$message({type:"success",message:"删除成功!"}))})).catch((function(){}))},handlerSend:function(){var e=this.graph.toJSON(),t=e.cells,r=t.map((function(e){return e.ports&&e.ports.groups&&delete e.ports.groups,e.tools&&delete e.tools,e}));this.selectCell&&(this.selectCell.removeTools(),this.selectCell=""),this.$emit("finish",JSON.stringify(r)),console.log(JSON.stringify(r))}}},c=s,f=(r("7a21"),r("3c17"),r("2877")),u=Object(f["a"])(c,l,o,!1,null,"58057b0c",null);t["default"]=u.exports}}]);